@*@{ Layout = "~/Views/Shared/_mainLayout.cshtml"; }*@

        @{

            var grid = Html.DevExpress().GridView(settings =>
            {
                settings.Name = "gdCountryCodes";
                settings.CallbackRouteValues = new { Controller = "Country", Action = "CountryCodes" };
               // settings.CustomActionRouteValues = new { Controller = "Home", Action = "CountryCodes" };
                settings.SettingsEditing.AddNewRowRouteValues = new { Controller = "Country", Action = "CountryCodesAddNew" };
                settings.SettingsEditing.UpdateRowRouteValues = new { Controller = "Country", Action = "CountryCodesUpdate" };
                settings.SettingsEditing.DeleteRowRouteValues = new { Controller = "Country", Action = "CountryCodesDelete" };
                settings.SettingsEditing.Mode = GridViewEditingMode.PopupEditForm;
                settings.SettingsBehavior.ConfirmDelete = true;

                settings.CommandColumn.Visible = true;
                settings.CommandColumn.ShowNewButton = true;
                settings.CommandColumn.ShowDeleteButton = true;
                settings.CommandColumn.ShowEditButton = true;
                
                settings.KeyFieldName = "ID";

                settings.SettingsPager.Visible = true;
                settings.Settings.ShowGroupPanel = false;
                settings.Settings.ShowFilterRow = true;
                settings.SettingsBehavior.AllowSelectByRowClick = true;

                settings.Columns.Add("Name", "Country Name");
                settings.Columns.Add("CountryCode", "Country Code");

                //settings.PreRender = (sender, e) =>
                //{
                //    ((MVCxGridView)sender).StartEdit(1);
                //};
            });
            if (ViewData["EditError"] != null)
            {
                grid.SetEditErrorText((string)ViewData["EditError"]);
            }
            
        }
        @grid.Bind(Model).GetHtml()
